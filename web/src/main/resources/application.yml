server:
    port: 8080
    error:
        include-stacktrace: on_trace_param

spring:
    main:
        web-application-type: reactive
    application:
        name: architecture
    cache:
        type: redis
        redis:
            key-prefix: architecture:cache
    datasource:
        url: jdbc:mysql://localhost:3306/architecture?serverTimezone=Asia/Shanghai&characterEncoding=utf8
        username: root
        password:
        hikari:
            pool-name: architecture
            minimum-idle: 1
            maximum-pool-size: 4
            connection-test-query: select 1 from dual
            max-lifetime: 600000
            connection-timeout: 300000
            read-only: false
            idle-timeout: 300000
            register-mbeans: false
    jpa:
        database: mysql
        properties:
            eclipselink.target-database: mysql
            javax.persistence.schema-generation.database.action: none
            javax.persistence.schema-generation.create-database-schemas: true
            eclipselink.jdbc.batch-writing: JDBC

    redis:
        cluster:
            nodes:
                - 127.0.0.1:6377
                - 127.0.0.1:6378
                - 127.0.0.1:6379
            maxRedirects: 3
    session:
        store-type: redis
        redis:
            namespace: "{architecture:session}"
            flush-mode: on_save
    mvc:
        log-resolved-exception: false
        locale: zh_CN
    freemarker:
        prefer-file-system-access: false
    jackson:
        serialization:
            write-dates-as-timestamps: true
    security:
        user:
            password: 123
            name: arch


management:
    server:
        port: 8090
        ssl:
            enabled: false
    endpoints:
        enabled-by-default: true
        web:
            exposure:
                include: "*"
    endpoint:
        shutdown:
            enabled: true
        health:
            enabled: true
            show-details: always
        info:
            enabled: true
        heapdump:
            enabled: true
        metrics:
            enabled: true
        mappings:
            enabled: true
        loggers:
            enabled: true
